(()=>{"use strict";var e={607:(e,t,n)=>{n.d(t,{v:()=>o});const o=e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};tippy(document.querySelectorAll(".yasr-copy-shortcode"),{content:"Copied! Insert into your post!",theme:"yasr",arrow:"true",arrowType:"round",trigger:"click"})}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t=n(607),o=new Uint8Array(16);function a(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(o)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const r=function(e){return"string"==typeof e&&i.test(e)};for(var s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!r(n))throw TypeError("Stringified UUID is invalid");return n};const y=function(e,t,n){var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return d(o)},m=(e,t,n,o,a,i,r=!0)=>{const s=`criteria-row ${t}`,l=document.createElement("div");let d;return l.className=s,l.id=`${n}${e}`,l.setAttribute("data-row",`${e}`),d="edit-form"===i?`edit-form-remove-${e}`:`new-form-remove-${e}`,l.innerHTML=`\n        <label>\n            <input type="text"\n                name="${o}${e}"\n                id="${a}${e}"\n                class="input-text-multi-set"\n                placeholder="New Criteria"\n            />\n        </label> `,!1!==r&&(l.innerHTML+=` <span \n            class="dashicons dashicons-remove yasr-multiset-info-delete criteria-delete" \n            id="${d}"\n            data-id-criteria="${l.id}"\n            onclick="document.getElementById('${l.id}').remove();"\n            >            \n        </span>`),l},c=(e,t,n,o)=>{if(!1!==e){let e=1;for(let a=3;a<9;a++){let a=`criteria-row-container-${t+e}`;if(!0==!!document.getElementById(a)){let e=document.getElementById(a);n.insertBefore(o,e);break}e++}}else n.appendChild(o)},u=(e,t,n,o)=>{null!==e&&(null!==t&&t.addEventListener("change",(t=>{t.currentTarget.checked||(e.checked=!1)})),e.addEventListener("change",(e=>{!0===e.currentTarget.checked?(null!==t?t.checked=!0:document.getElementById("yasr-comment-reviews-disabled-switch").checked=!0,null!==n&&(n.value=o)):null!==n&&(n.value="")})))},p=(e=!1,t=!1,n=null,o=null,a="yasr_select_set")=>{const i=document.getElementById(a);let r=!1;!0==!!i&&i.addEventListener("change",(function(){const a=i.value;return!1!==t?(document.getElementById("yasr-loader-select-multi-set").style.display="",r=document.getElementById("yasr_nonce_change_set-id").value,g(a,t,e,n,o,r)):(r=document.getElementById("nonce-settings-edit-form-id").value,b(a,r)),!1}))},g=(e,t,n,o=null,a=null,i)=>{const r={action:"yasr_send_id_nameset",set_id:e,post_id:t,yasr_send_id_nameset_nonce:i};return jQuery.post(ajaxurl,r,(function(t){n>1&&(document.getElementById("yasr-loader-select-multi-set").style.display="none");let o=JSON.parse(t),a=document.getElementById("yasr-table-multi-set-admin"),i=document.getElementById("yasr-table-multi-set-admin-visitor");f(o,a),f(o,i,!1),v(),v(!1);let r=document.getElementsByClassName("yasr-editor-multiset-id");for(let t=0;t<r.length;t++)r[t].innerText=e})),document.getElementById("yasr-multiset-id").value=e,null!==o&&""!==o&&null!==a&&(o.value===e?a.checked=!0:a.checked=!1),!1},b=(e,t)=>{const n={action:"yasr_get_multi_set",set_id:e,nonce:t};jQuery.post(ajaxurl,n,(function(e){jQuery("#yasr-table-form-edit-multi-set").html(e)})),jQuery(document).ajaxComplete((function(){(()=>{const e=document.getElementById("yasr-add-field-edit-multiset");let t=document.getElementById("yasr-edit-form-number-elements");if(1!=!!t)return;t=t.value,t++;const n=document.getElementById("edit-form-remove-3"),o=document.getElementById("edit-form-remove-4");1==!!n&&n.addEventListener("click",(e=>{t--,document.getElementById("yasr-element-limit").style.display="none",document.getElementById("yasr-add-field-edit-multiset").style.display=""})),1==!!o&&o.addEventListener("click",(e=>{t--,document.getElementById("yasr-element-limit").style.display="none",document.getElementById("yasr-add-field-edit-multiset").style.display=""})),e.addEventListener("click",(e=>{if(e.preventDefault(),t>9)return document.getElementById("yasr-element-limit").style.display="",document.getElementById("yasr-add-field-edit-multiset").style.display="none",!1;const n=document.getElementById("edit-set-criteria-container"),o=m(t,"edit-form-removable-criteria","edit-form-criteria-row-container-","edit-multi-set-element-","edit-form-multi-set-name-element-","edit-form",!1);c(!1,t,n,o),t++}))})()}))},f=(e,t,n=!0)=>{let o="",a="yasr-multiset-admin";for(let t=0;t<e.length;t++){let i=e[t].name,r=0,s=!0;!1!==n&&(r=e[t].average_rating,s=!1,a="yasr-multiset-admin-author");let l=e[t].id;o+="<tr>",o+=`<td>${i}</td>`,o+=`<td><div class="${a}" id="yasr-multiset-admin-${y()}" data-rating="${r}" \n                        data-multi-idfield="${l}" data-readonly="${s}"></div>`,o+="</td>",o+="</tr>"}if(!1===n){o+='<tr><td colspan="2"><input type="submit" class="button button-primary" value="Submit!" disabled></td></tr>'}t.innerHTML=o},v=(e=!0)=>{let t;t=!1!==e?"yasr-multiset-admin-author":"yasr-multiset-admin";const n=document.getElementsByClassName(t);let o=[],a=!1;for(let e=0;e<n.length;e++)!function(e){let t=n.item(e).id,i=document.getElementById(t),r=parseInt(i.getAttribute("data-multi-idfield")),s=parseInt(i.getAttribute("data-rating")),l="true"===i.getAttribute("data-readonly"),d={field:r,rating:s};o.push(d);yasrSetRaterValue(32,t,!1,.5,l,!1,(function(e,t){e=e.toFixed(1),e=parseFloat(e),this.setRating(e);for(let t=0;t<o.length;t++)o[t].field===r&&(o[t].rating=e);a=JSON.stringify(o),document.getElementById("yasr-multiset-author-votes").value=a,t()}))}(e)};function E(e){"Product"===e?(document.getElementById("yasr-metabox-info-snippet-container").style.display="",document.getElementById("yasr-metabox-info-snippet-container-product").style.display="",document.getElementById("yasr-metabox-info-snippet-container-localbusiness").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-recipe").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-software").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-book").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-movie").style.display="none"):"LocalBusiness"===e?(document.getElementById("yasr-metabox-info-snippet-container").style.display="",document.getElementById("yasr-metabox-info-snippet-container-localbusiness").style.display="",document.getElementById("yasr-metabox-info-snippet-container-product").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-recipe").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-software").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-book").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-movie").style.display="none"):"Recipe"===e?(document.getElementById("yasr-metabox-info-snippet-container").style.display="",document.getElementById("yasr-metabox-info-snippet-container-recipe").style.display="",document.getElementById("yasr-metabox-info-snippet-container-localbusiness").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-product").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-software").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-book").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-movie").style.display="none"):"SoftwareApplication"===e?(document.getElementById("yasr-metabox-info-snippet-container").style.display="",document.getElementById("yasr-metabox-info-snippet-container-software").style.display="",document.getElementById("yasr-metabox-info-snippet-container-recipe").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-localbusiness").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-product").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-book").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-movie").style.display="none"):"Book"===e?(document.getElementById("yasr-metabox-info-snippet-container").style.display="",document.getElementById("yasr-metabox-info-snippet-container-book").style.display="",document.getElementById("yasr-metabox-info-snippet-container-recipe").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-localbusiness").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-product").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-software").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-movie").style.display="none"):"Movie"===e?(document.getElementById("yasr-metabox-info-snippet-container").style.display="",document.getElementById("yasr-metabox-info-snippet-container-movie").style.display="",document.getElementById("yasr-metabox-info-snippet-container-recipe").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-localbusiness").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-product").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-software").style.display="none",document.getElementById("yasr-metabox-info-snippet-container-book").style.display="none"):document.getElementById("yasr-metabox-info-snippet-container").style.display="none"}document.addEventListener("DOMContentLoaded",(function(e){if(null!==document.getElementById("yasr_metabox_below_editor")&&function(){document.getElementById("yasr-metabox-below-editor-select-schema").addEventListener("change",(function(){E(this.value)})),jQuery("#yasr-metabox-below-editor-structured-data-tab").on("click",(function(e){e.preventDefault(),jQuery(".yasr-nav-tab").removeClass("nav-tab-active"),jQuery("#yasr-metabox-below-editor-structured-data-tab").addClass("nav-tab-active"),jQuery(".yasr-metabox-below-editor-content").hide(),jQuery("#yasr-metabox-below-editor-structured-data").show()})),jQuery("#yasr-metabox-below-editor-multiset-tab").on("click",(function(e){e.preventDefault(),jQuery(".yasr-nav-tab").removeClass("nav-tab-active"),jQuery("#yasr-metabox-below-editor-multiset-tab").addClass("nav-tab-active"),jQuery(".yasr-metabox-below-editor-content").hide(),jQuery("#yasr-metabox-below-editor-multiset").show()}));let e=document.getElementById("yasr-metabox-below-editor-select-schema").value;null!==document.getElementById("yasr-editor-multiset-container")&&(()=>{let e=document.getElementById("yasr-editor-multiset-container"),n=parseInt(e.getAttribute("data-nmultiset")),o=parseInt(e.getAttribute("data-setid")),a=parseInt(e.getAttribute("data-postid"));const i=document.getElementById("yasr-pro-review-setid"),r=document.getElementById("yasr-editor-copy-readonly-multiset"),s=document.getElementById("yasr-editor-copy-visitor-multiset"),l=document.getElementById("yasr-editor-copy-average-multiset"),d=document.getElementById("yasr-editor-copy-average-vvmultiset"),y=document.getElementById("yasr-editor-copy-comments-multiset"),m=document.getElementById("yasr-pro-comments-enabled-yes"),c=document.getElementById("yasr-pro-multiset-review-switcher"),b=document.getElementById("yasr-send-id-nameset-nonce").value;g(o,a,n,null,null,b),r.onclick=function(e){let n=document.getElementById(e.target.id);(0,t.v)(n.textContent.trim())},s.onclick=function(e){let n=document.getElementById(e.target.id);(0,t.v)(n.textContent.trim())},l.onclick=function(e){let n=document.getElementById(e.target.id);(0,t.v)(n.textContent.trim())},d.onclick=function(e){let n=document.getElementById(e.target.id);(0,t.v)(n.textContent.trim())},y.onclick=function(e){let n=document.getElementById(e.target.id);(0,t.v)(n.textContent.trim())},u(c,m,i,o),p(n,a,i,c)})();E(e)}(),!0!==document.body.classList.contains("block-editor-page")){null!==document.getElementById("yasr_metabox_overall_rating")&&function(){let e=parseFloat(document.getElementById("yasr-overall-rating-value").value);const n=document.getElementById("yasr-editor-copy-overall");null!==n&&(n.onclick=function(e){let n=document.getElementById(e.target.id);(0,t.v)(n.textContent.trim())});raterJs({starSize:32,step:.1,showToolTip:!1,rating:e,readOnly:!1,element:document.getElementById("yasr-rater-overall"),rateCallback:function(e,t){e=e.toFixed(1),e=parseFloat(e),document.getElementById("yasr-overall-rating-value").value=e,this.setRating(e);let n="You've rated";document.getElementById("yasr_overall_text").textContent=n+" "+e,t()}})}(),function(){jQuery("#yasr-shortcode-creator").on("click",(function(){tb_show("Ranking Creator","#TB_inline?width=770&height=700&inlineId=yasr-tinypopup-form"),jQuery("#TB_window").css({width:"800px"})})),jQuery("#yasr-builder-copy-shortcode").on("click",(function(){tb_remove()}));let e=!1;null!==document.getElementById("yasr-editor-multiset-container")&&(e=!0);const t=document.getElementById("yasr-tinypopup-link-doc");jQuery("#yasr-link-tab-main").on("click",(function(){jQuery(".yasr-nav-tab").removeClass("nav-tab-active"),jQuery("#yasr-link-tab-main").addClass("nav-tab-active"),jQuery(".yasr-content-tab-tinymce").hide(),jQuery("#yasr-content-tab-main").show(),t.setAttribute("href","https://yetanotherstarsrating.com/yasr-shortcodes?utm_source=wp-plugin&utm_medium=tinymce-popup&utm_campaign=yasr_editor_screen")})),jQuery("#yasr-link-tab-charts").on("click",(function(){jQuery(".yasr-nav-tab").removeClass("nav-tab-active"),jQuery("#yasr-link-tab-charts").addClass("nav-tab-active"),jQuery(".yasr-content-tab-tinymce").hide(),jQuery("#yasr-content-tab-charts").show(),t.setAttribute("href","https://yetanotherstarsrating.com/yasr-shortcodes/?utm_source=wp-plugin&utm_medium=tinymce-popup&utm_campaign=yasr_editor_screen#yasr-rankings-shortcodes")})),jQuery("#yasr-overall").on("click",(function(){jQuery("#yasr-overall-choose-size").toggle("slow")})),jQuery("#yasr-visitor-votes").on("click",(function(){jQuery("#yasr-visitor-choose-size").toggle("slow")})),jQuery(".yasr-tinymce-shortcode-buttons").on("click",(function(){let e=this.getAttribute("data-shortcode");null==tinyMCE.activeEditor?jQuery("#content").append(e):tinyMCE.activeEditor.execCommand("mceInsertContent",0,e),tb_remove()})),!0===e&&jQuery("#yasr-insert-multiset-select").on("click",(function(){let e,t=jQuery("input:radio[name=yasr_tinymce_pick_set]:checked").val();e=jQuery("#yasr-allow-vote-multiset").is(":checked")?"[yasr_multiset setid=":"[yasr_visitor_multiset setid=",e+=t,jQuery("#yasr-hide-average-multiset").is(":checked")&&(e+=" show_average='no'"),e+="]",null==tinyMCE.activeEditor?jQuery("#content").append(e):tinyMCE.activeEditor.execCommand("mceInsertContent",0,e),tb_remove()}))}()}}))})()})();